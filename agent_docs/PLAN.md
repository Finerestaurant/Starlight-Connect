# K-POP 노래 중심의 2D 관계도 시각화 프로젝트

**목표:** 특정 K-POP 노래를 중심으로, 그 곡의 창작 과정에 참여한 모든 인물(작곡가, 작사가, 프로듀서, 아티스트 등)들의 관계를 명확하고 직관적인 **2D 노드 그래프**로 시각화하여, '누가 이 노래를 만들었는가'를 쉽게 파악할 수 있는 인터랙티브 웹 애플리케이션을 구축합니다.

---

#### **1단계: 데이터 모델링 및 대규모 수집 전략 수립**

안정적인 데이터 확보는 프로젝트의 가장 중요한 기반입니다.

*   **1a. 데이터 스키마 정의:**
    *   `Song`: 곡 제목, 아티스트, 앨범, 발매일 등의 기본 정보
    *   `Person`: 이름, 역할(작곡, 작사, 편곡, 프로듀싱, 가창 등)
    *   `Contribution`: `Song`과 `Person`을 연결하는 중간 테이블. 어떤 사람이 어떤 노래에 어떤 역할로 기여했는지를 명시.
*   **1b. 대규모 데이터 수집 전략 변경:**
    *   **한계 인식:** API를 호출하는 기존 방식은 데이터베이스를 확장하는 데 속도적인 한계가 명확합니다.
    *   **새로운 전략:** **나무위키, 위키피디아** 등 공개된 위키 데이터를 크롤링하여 대규모의 노래 및 인물 정보를 한 번에 수집하는 방식으로 전환합니다. 이를 통해 훨씬 빠르고 효율적인 데이터베이스 구축이 가능합니다.
    *   **필요 기술:** 위키 페이지의 비정형 텍스트에서 정형화된 데이터를 추출하기 위한 파서(Parser) 개발이 필수적입니다.

---

#### **2단계: 2D 시각화 Proof of Concept (PoC) 개발**

수집한 데이터를 사용하여 명확한 2D 관계도를 구현합니다.

*   **2a. 기술 스택 선정:**
    *   **Frontend:** React, **React Flow** (노드 기반 UI 구현에 최적화된 라이브러리)
*   **2b. 기본 시각화 구현:**
    *   중심에 '노래' 또는 '인물'을 나타내는 노드(Node)를 배치합니다.
    *   주변에 관련된 '인물' 또는 '노래' 노드들을 배치합니다.
    *   노드들을 선(Edge)으로 연결하여 관계를 명확하게 표시합니다.
    *   각 노드와 선에 마우스를 올리거나 클릭하면 상세 정보(이름, 역할, 참여곡 목록 등)가 표시되도록 합니다.

---

#### **3단계: 백엔드 및 크롤러 개발**

데이터를 효율적으로 관리하고 수집하기 위한 서버와 크롤러를 구축합니다.

*   **3a. 기술 스택 선정:**
    *   **Backend:** Python (FastAPI), **BeautifulSoup4** (HTML/XML 파싱용)
    *   **Database:** **SQLite** (초기), **PostgreSQL** (확장)
*   **3b. API 엔드포인트 설계:**
    *   `GET /api/graph/song/{song_id}`: 특정 노래를 중심으로 한 관계도 데이터를 반환합니다.
    *   `GET /api/graph/person/{person_id}`: 특정 인물을 중심으로 한 관계도 데이터를 반환합니다.
*   **3c. 데이터 크롤러 개발:**
    *   선택한 데이터 소스(예: 나무위키)의 구조를 분석하고, 안정적으로 데이터를 수집하는 크롤러를 구현합니다.
    *   페이지 구조 변경에 유연하게 대응할 수 있는 견고한 파싱 로직을 개발합니다.

---

#### **4단계: 프론트엔드-백엔드 연동 및 기능 고도화**

2D 시각화와 백엔드 API를 연결하고 사용자 경험을 향상시킵니다.

*   **4a. 동적 데이터 로딩:** 사용자가 검색하거나 노드를 클릭하면, 백엔드 API를 호출하여 실시간으로 2D 관계도를 생성하거나 업데이트하도록 구현합니다.
*   **4b. 인터랙션 강화:**
    *   특정 '인물' 노드를 더블 클릭하면, 해당 인물이 중심이 되는 새로운 그래프를 불러옵니다.
    *   2D 캔버스 내에서 자유롭게 화면 이동(Pan), 확대/축소가 가능한 컨트롤을 추가합니다.
*   **4c. UI/UX 개선:**
    *   직관적인 검색 기능을 제공하고, 전체적인 디자인을 다듬어 사용성을 높입니다.

---

#### **5단계: 데이터베이스 고도화 (Future-Proofing the Database)**

*   **5a. 그래프 데이터베이스로의 전환:** 프로젝트가 성숙하고 데이터의 관계가 더욱 복잡해지면, 현재의 관계형 데이터베이스에서 **그래프 데이터베이스(예: Neo4j)로의 전환을 고려**합니다. 이는 인물과 작품 간의 다각적이고 깊은 관계를 탐색하고 시각화하는 데 훨씬 더 강력한 성능과 직관적인 구조를 제공합니다.

---

#### **6단계: 배포 및 보안 고려사항 (Deployment & Security Considerations)**

*   **6a. CORS 설정 업데이트:** 프로덕션 환경에 배포 시, 백엔드의 CORS (`CORSMiddleware`) `allow_origins` 설정을 실제 프론트엔드 서비스 도메인으로 **반드시 변경**해야 합니다.
*   **6b. 크롤링 윤리 준수:** `robots.txt`를 존중하고, 서버에 과도한 부하를 주지 않도록 요청 간에 적절한 지연(delay)을 설정하는 등 웹 스크래핑 윤리를 준수합니다.

---

#### **기술 스택 제안 (Tech Stack)**

*   **Frontend:** React, **React Flow**
*   **Backend:** Python (FastAPI), **BeautifulSoup4**
*   **Database:** **SQLite** (초기), **PostgreSQL/Neo4j** (확장)
*   **Deployment:** Vercel (Frontend), Heroku/AWS (Backend)